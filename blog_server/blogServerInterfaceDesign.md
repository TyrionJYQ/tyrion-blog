# **Interface Design**

### 共通

- code 响应编码

  - 001：请求成功
  - 002: 请求失败
  - 003:未知错误

- msg 响应消息

  - 根据接口不同功能给出具体提示信息，失败时不必要给出具体信息
  - if(code === '003') msg = '出现未知的错误，程序员小哥正在坐火箭赶来!'，msg共通

- username: 所有接口对用户名进行校验，用户名为空给出提示信息:用户不存在(checkUserName.js中间件)


### 登录

##### 请求路径 `tyrionblog/user/userLogin`

##### 请求方法: post

##### 请求参数

| 请求参数     | 数据类型   | 必填   | 描述   |
| -------- | ------ | ---- | ---- |
| username | string | 是    | 用户名  |
| passward | string | 是    | 密码   |
| capture  | string | 是    | 验证码  |

##### 响应参数

| 响应参数 | 数据类型   | 必填   | 描述   |
| ---- | ------ | ---- | ---- |
| code | string | 是    | 响应编码 |
| msg  | string | 是    | 响应信息 |

##### 业务说明



- 用户名是否存在
- 密码是否存在
- 根据用户名从BLOG_USER表中获取密码password
- 比较数据库密码和请求参数密码，不一致给出提示信息msg:用户名和密码不一致，请重新登录



### 注册



##### 请求路径 `tyrionblog/user/userRegister`

##### 请求方法: post

##### 请求参数

| 请求参数     | 数据类型   | 必填   | 描述   |
| -------- | ------ | ---- | ---- |
| username | string | 是    | 用户名  |
| passward | string | 是    | 密码   |
| capture  | string | 是    | 验证码  |
| email    | string | 是    | 邮箱   |

##### 响应参数

| 响应参数 | 数据类型   | 必填   | 描述   |
| ---- | ------ | ---- | ---- |
| code | string | 是    | 响应编码 |
| msg  | string | 是    | 响应信息 |

##### 业务说明

- 对用户名和密码进行校验，用户名或密码不存在code: '002',msg: '用户名或密码不存在'
- 将注册用户存储到BLOG_USER表
  - 存储成功：code: 001,msg: '注册成功';
  - 存储失败： code: 003,msg:共通msg



### 验证码

##### 请求路径 `tyrionblog/user/v_code`

##### 请求方法: get

##### 请求参数

| 请求参数 | 数据类型 | 必填   | 描述   |
| ---- | ---- | ---- | ---- |
| /    | /    | /    | /    |

##### 响应参数

| 响应参数   | 数据类型   | 必填   | 描述        |
| ------ | ------ | ---- | --------- |
| code   | string | 是    | 响应编码      |
| msg    | string | 是    | 响应信息      |
| v_code | string | 是    | 5位随机数字字符串 |

